<div class="step record-step panel panel-rvdstep">
	<div class="panel-heading"><h4 class="panel-title"><i ng-click='step.isCollapsed = !step.isCollapsed' class="fa rvd-clickable" ng-class="{'fa-caret-right': step.isCollapsed, 'fa-caret-down': !step.isCollapsed}"></i>&nbsp; &nbsp;<span  tooltip='{{step.name}}'>{{step.title}}</span> <small>{{step.phrase}}</small><i ng-click='stepService.removeStep(steps,stepnames,step,orderedSteps)' class='fa fa-trash-o pull-right rvd-clickable'></i></h4></div>

	<div class="panel-body" ng-hide='step.isCollapsed'>
		<div class='row form-group'>
			<div class='col-md-4'>
				<div class="input-group input-group-sm">
					<span class="input-group-addon">Continue to</span>
					<select sync-model name='next' ng-model='step.next' ng-options='target.name as target.label for target in getAllTargets()' class="form-control">
						<option value=""></option>
					</select>
					<!-- 
					<span class='input-group-addon'>method</span>
					<select name="method" ng-model='step.method'  class="form-control">
						<option value=""></option>
						<option value="GET">GET</option>
						<option value="POST">POST</option>
					</select>
					 -->
				</div>
				<div class="validation-error" ng-show="form.next.$invalid">Choose a target</div>
			</div>
			<div class='col-md-2'>
				<div class="input-group input-group-sm">
					<span class="input-group-addon">Play beep</span>
		            <span class="input-group-addon">
						<input ng-model='step.playBeep' type="checkbox">
					</span>
				</div>
			</div>
		</div>

		<i class="fa fa-cog rvd-clickable" ng-class="{'rvd-active': step.iface.optionsVisible }" ng-click="step.iface.optionsVisible = !step.iface.optionsVisible"></i>
		<div ng-show='step.iface.optionsVisible'>
			<div class='row form-group'>
				<br/>
				<div class='col-md-3'>
					<div class="input-group input-group-sm">
						<span class='input-group-addon'>Timeout</span>
						<input ng-model='step.timeout' type='number' class='form-control'/>
					</div>
				</div>
				<div class='col-md-3'>
					<div class="input-group input-group-sm">
						<span class='input-group-addon'>Finish on key</span>
						<input ng-model='step.finishOnKey' type='text' class='form-control'/>
					</div>
				</div>
				<div class='col-md-3'>
					<div class="input-group input-group-sm">
						<span class='input-group-addon'>Max length</span>
						<input ng-model='step.maxLength' type='number' class='form-control'/>
					</div>
				</div>						
			</div>
			<div class='row form-group'>
				<div class='col-md-2'>
					<div class="input-group input-group-sm">
						<span class="input-group-addon">Transcribe</span>
			            <span class="input-group-addon">
							<input ng-model='step.transcribe' type="checkbox">
						</span>
					</div>				
				</div>
				<div class='col-md-7'>
					<div class="input-group input-group-sm">
						<span class='input-group-addon'>Tanscribe callback</span>
						<input ng-model='step.transcribeCallback' type='text' class='form-control'/>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
