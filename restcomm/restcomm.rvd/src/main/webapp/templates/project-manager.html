<div ng-controller="projectManagerCtrl">

	<nav class="navbar navbar-default" role="navigation">
		<div class="collapse navbar-collapse navbar-ex1-collapse">
			<div class='navbar-text navbar-rvd-centered'>
				<em>Please chose a project from the list below or create a new
					one</em>
			</div>
			<ul class="nav navbar-nav">
			</ul>
		</div>
	</nav>

	<div class="row">
		<div class="col-md-3 col-centered">
			<h3 class="text-center">Existing projects</h3>
			<br />
			<div class="text-center" ng-show="projectList.length==0"><em class="text-muted"><small>No projects found</small></em></div>

			<div ng-repeat="projectItem in projectList" class='row rvd-project-item' >
				<div class="row">
					<div class="col-md-12 text-center" ng-show="projectItem.viewMode=='view'" >
							<a href="#/designer/{{projectItem.name}}" ng-click="openProject(projectItem.name)" style="margin-right:10px">{{projectItem.name}}</a>
							<i ng-click="editProjectName(projectItem)" class="fa fa-pencil rvd-clickable" ></i>
							<i ng-click="projectItem.viewMode='confirm-delete'" class="fa fa-trash-o rvd-clickable" ></i>
					</div>
					
					<div class="col-md-12 text-center confirm-delete " ng-show="projectItem.viewMode=='confirm-delete'">
						Delete <em>{{projectItem.name}}</em> ? &nbsp;&nbsp;&nbsp;<i class="fa fa-trash-o rvd-clickable" ng-click="deleteProject(projectItem)"></i> &nbsp; <a class="rvd-clickable" ng-click="projectItem.viewMode='view'">Cancel</a>
					</div>
						
					<div class="col-md-12" ng-show="projectItem.viewMode=='edit'" >
						<form name="form{{$index}}">
							<input name="newProjectName" type="text" class="form-control" ng-model="projectItem.newProjectName" ng-pattern="projectNameValidator" required />
							<div class="buttonarea text-right">
								<span class="validation-error pull-left" ng-show="projectItem.errorMessage!=''">{{projectItem.errorMessage}}</span>
								<i ng-click="projectItem.viewMode='view'" class="fa fa-times rvd-clickable" ></i>
								<i ng-hide="form{{$index}}.newProjectName.$error.required || form{{$index}}.newProjectName.$invalid" ng-click="applyNewProjectName(projectItem)" class="fa fa-check rvd-clickable" ></i>
							</div>
						</form>
					</div>
				</div>

				

			</div>
			<br />
			<h3 class="text-center">Create new project</h3>
			<br />

			<form name="form" novalidate>	
				<div class="row">
					<div class="col-md-12">
						<input name="newProjectName" type="text" class="form-control" ng-model="newProjectName" ng-pattern="projectNameValidator" required />
					</div>
				</div>
				<br />
				<div class="row">
					<div class="col-md-12">
						<button type="button" ng-disabled="form.newProjectName.$error.required || form.newProjectName.$invalid"  ng-click="createNewProject(newProjectName)"
							class="btn btn-primary form-control">Create</button>
					</div>
				</div>
			</form>
		</div>
	</div>


</div>
